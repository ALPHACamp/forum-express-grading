{{> restaurant-tabs route='topRestaurants'}}
<h1>Top 10 人氣餐廳</h1>
<hr />
<div style="display: flex; flex-direction:column; align-items: center;">
  {{#each restaurants}}
  <div style="position: relative; border: 1px solid rgba(0,0,0,.125); width:500px; height: 200px; margin: 20px;">
    <div style="width: 130px; height:110px;">
      <img src="{{this.image}}" alt="Card image cap" width="120px" height="100px"
        style="transition: opacity 0.5s; opacity:0;" onload="this.style.opacity=1;">
    </div>
    <div style="position: absolute; left:40%; top: 10px;">
      <p class="card-text">
        <a href="/restaurants/{{this.id}}">
          {{this.name}}
        </a>
      </p>
      <span class="badge bg-secondary">收藏數：{{this.favoritedCount}}</span>
        <p class="card-text">{{this.description}}</p>
    </div>
    <div style="position: absolute; left:40%; bottom: 10px; display:flex;">
        <a href="/restaurants/{{this.id}}">
          <button type="submit" class="btn btn-primary m-1">Show</button>
        </a>
      {{#if isFavorited}}
      <form action="/favorite/{{this.id}}?_method=DELETE" method="POST">
        <button type="submit" class="btn btn-danger m-1">移除最愛</button>
      </form>
      {{else}}
      <form action="/favorite/{{this.id}}" method="POST">
        <button type="submit" class="btn btn-primary m-1">加到最愛</button>
      </form>
      {{/if}}
    </div>
  </div>
  {{/each}}
</div>